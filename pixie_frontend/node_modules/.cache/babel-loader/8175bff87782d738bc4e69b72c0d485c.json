{"ast":null,"code":"var _jsxFileName = \"/Users/watson/Desktop/pixie/pixie_frontend/src/components/UserProfile.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { AiOutlineLogout } from 'react-icons/ai';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { GoogleLogout } from 'react-google-login';\nimport { userCreatedPinsQuery, userQuery, userSavedPinsQuery } from '../utils/data';\nimport { client } from '../client';\nimport MasonryLayout from './MasonryLayout';\nimport Spinner from './Spinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst activeBtnStyles = 'bg-red-500 text-white font-bold p-2 rounded-full w-20 outline-none';\nconst notActiveBtnStyles = 'bg-primary mr-4 text-black font-bold p-2 rounded-full w-20 outline-none';\n\nconst UserProfile = () => {\n  _s();\n\n  const [user, setUser] = useState();\n  const [pins, setPins] = useState();\n  const [text, setText] = useState('Created');\n  const [activeBtn, setActiveBtn] = useState('created');\n  const navigate = useNavigate();\n  const {\n    userId\n  } = useParams();\n  const User = localStorage.getItem('user') !== 'undefined' ? JSON.parse(localStorage.getItem('user')) : localStorage.clear();\n  useEffect(() => {\n    const query = userQuery(userId);\n    client.fetch(query).then(data => {\n      setUser(data[0]);\n    });\n  }, [userId]);\n  useEffect(() => {\n    if (text === 'Created') {\n      const createdPinsQuery = userCreatedPinsQuery(userId);\n      client.fetch(createdPinsQuery).then(data => {\n        setPins(data);\n      });\n    } else {\n      const savedPinsQuery = userSavedPinsQuery(userId);\n      client.fetch(savedPinsQuery).then(data => {\n        setPins(data);\n      });\n    }\n  }, [text, userId]);\n\n  const logout = () => {\n    localStorage.clear();\n    navigate('/login');\n  };\n\n  if (!user) return /*#__PURE__*/_jsxDEV(Spinner, {\n    message: \"Loading profile\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative pb-2 h-full justify-center items-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col pb-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative flex flex-col mb-7\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col justify-center items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \" w-full h-370 2xl:h-510 shadow-lg object-cover\",\n            src: \"https://source.unsplash.com/1600x900/?nature,photography,technology\",\n            alt: \"user-pic\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"rounded-full w-20 h-20 -mt-10 shadow-xl object-cover\",\n            src: user.image,\n            alt: \"user-pic\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"font-bold text-3xl text-center mt-3\",\n          children: user.userName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute top-0 z-1 right-0 p-2\",\n          children: userId === User.googleId && /*#__PURE__*/_jsxDEV(GoogleLogout, {\n            clientId: `${process.env.REACT_APP_GOOGLE_API_TOKEN}`,\n            render: renderProps => /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \" bg-white p-2 rounded-full cursor-pointer outline-none shadow-md\",\n              onClick: renderProps.onClick,\n              disabled: renderProps.disabled,\n              children: /*#__PURE__*/_jsxDEV(AiOutlineLogout, {\n                color: \"red\",\n                fontSize: 21\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 19\n            }, this),\n            onLogoutSuccess: logout,\n            cookiePolicy: \"single_host_origin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mb-7\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: e => {\n            setText(e.target.textContent);\n            setActiveBtn('created');\n          },\n          className: `${activeBtn === 'created' ? activeBtnStyles : notActiveBtnStyles}`,\n          children: \"Created\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: e => {\n            setText(e.target.textContent);\n            setActiveBtn('saved');\n          },\n          className: `${activeBtn === 'saved' ? activeBtnStyles : notActiveBtnStyles}`,\n          children: \"Saved\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-2\",\n        children: /*#__PURE__*/_jsxDEV(MasonryLayout, {\n          pins: pins\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), (pins === null || pins === void 0 ? void 0 : pins.length) === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center font-bold items-center w-full text-1xl mt-2\",\n        children: \"No Pins Found!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UserProfile, \"h+p6wcOZSKJS9Uo2meBFm6gjYsw=\", false, function () {\n  return [useNavigate, useParams];\n});\n\n_c = UserProfile;\nexport default UserProfile;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserProfile\");","map":{"version":3,"sources":["/Users/watson/Desktop/pixie/pixie_frontend/src/components/UserProfile.jsx"],"names":["React","useEffect","useState","AiOutlineLogout","useParams","useNavigate","GoogleLogout","userCreatedPinsQuery","userQuery","userSavedPinsQuery","client","MasonryLayout","Spinner","activeBtnStyles","notActiveBtnStyles","UserProfile","user","setUser","pins","setPins","text","setText","activeBtn","setActiveBtn","navigate","userId","User","localStorage","getItem","JSON","parse","clear","query","fetch","then","data","createdPinsQuery","savedPinsQuery","logout","image","userName","googleId","process","env","REACT_APP_GOOGLE_API_TOKEN","renderProps","onClick","disabled","e","target","textContent","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { AiOutlineLogout } from 'react-icons/ai';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { GoogleLogout } from 'react-google-login';\n\nimport { userCreatedPinsQuery, userQuery, userSavedPinsQuery } from '../utils/data';\nimport { client } from '../client';\nimport MasonryLayout from './MasonryLayout';\nimport Spinner from './Spinner';\n\nconst activeBtnStyles = 'bg-red-500 text-white font-bold p-2 rounded-full w-20 outline-none';\nconst notActiveBtnStyles = 'bg-primary mr-4 text-black font-bold p-2 rounded-full w-20 outline-none';\n\nconst UserProfile = () => {\n  const [user, setUser] = useState();\n  const [pins, setPins] = useState();\n  const [text, setText] = useState('Created');\n  const [activeBtn, setActiveBtn] = useState('created');\n  const navigate = useNavigate();\n  const { userId } = useParams();\n\n  const User = localStorage.getItem('user') !== 'undefined' ? JSON.parse(localStorage.getItem('user')) : localStorage.clear();\n\n  useEffect(() => {\n    const query = userQuery(userId);\n    client.fetch(query).then((data) => {\n      setUser(data[0]);\n    });\n  }, [userId]);\n\n  useEffect(() => {\n    if (text === 'Created') {\n      const createdPinsQuery = userCreatedPinsQuery(userId);\n\n      client.fetch(createdPinsQuery).then((data) => {\n        setPins(data);\n      });\n    } else {\n      const savedPinsQuery = userSavedPinsQuery(userId);\n\n      client.fetch(savedPinsQuery).then((data) => {\n        setPins(data);\n      });\n    }\n  }, [text, userId]);\n\n  const logout = () => {\n    localStorage.clear();\n\n    navigate('/login');\n  };\n\n  if (!user) return <Spinner message=\"Loading profile\" />;\n\n  return (\n    <div className=\"relative pb-2 h-full justify-center items-center\">\n      <div className=\"flex flex-col pb-5\">\n        <div className=\"relative flex flex-col mb-7\">\n          <div className=\"flex flex-col justify-center items-center\">\n            <img\n              className=\" w-full h-370 2xl:h-510 shadow-lg object-cover\"\n              src=\"https://source.unsplash.com/1600x900/?nature,photography,technology\"\n              alt=\"user-pic\"\n            />\n            <img\n              className=\"rounded-full w-20 h-20 -mt-10 shadow-xl object-cover\"\n              src={user.image}\n              alt=\"user-pic\"\n            />\n          </div>\n          <h1 className=\"font-bold text-3xl text-center mt-3\">\n            {user.userName}\n          </h1>\n          <div className=\"absolute top-0 z-1 right-0 p-2\">\n            {userId === User.googleId && (\n              <GoogleLogout\n                clientId={`${process.env.REACT_APP_GOOGLE_API_TOKEN}`}\n                render={(renderProps) => (\n                  <button\n                    type=\"button\"\n                    className=\" bg-white p-2 rounded-full cursor-pointer outline-none shadow-md\"\n                    onClick={renderProps.onClick}\n                    disabled={renderProps.disabled}\n                  >\n                    <AiOutlineLogout color=\"red\" fontSize={21} />\n                  </button>\n                )}\n                onLogoutSuccess={logout}\n                cookiePolicy=\"single_host_origin\"\n              />\n            )}\n          </div>\n        </div>\n        <div className=\"text-center mb-7\">\n          <button\n            type=\"button\"\n            onClick={(e) => {\n              setText(e.target.textContent);\n              setActiveBtn('created');\n            }}\n            className={`${activeBtn === 'created' ? activeBtnStyles : notActiveBtnStyles}`}\n          >\n            Created\n          </button>\n          <button\n            type=\"button\"\n            onClick={(e) => {\n              setText(e.target.textContent);\n              setActiveBtn('saved');\n            }}\n            className={`${activeBtn === 'saved' ? activeBtnStyles : notActiveBtnStyles}`}\n          >\n            Saved\n          </button>\n        </div>\n\n        <div className=\"px-2\">\n          <MasonryLayout pins={pins} />\n        </div>\n\n        {pins?.length === 0 && (\n        <div className=\"flex justify-center font-bold items-center w-full text-1xl mt-2\">\n          No Pins Found!\n        </div>\n        )}\n      </div>\n\n    </div>\n  );\n};\n\nexport default UserProfile;\n"]},"metadata":{},"sourceType":"module"}